---
layout: post
title: "Nightwatch API - 命令"
description: ""
category : 自动化测试
tags : [Nightwatch, 自动化测试]
---
{% include JB/setup %}

**命令是用来执行页面上的各种操作。**

---

####回调函数####

每个方法允许有一个可选的回调函数，这个函数做为方法的最后一个参数进行传递。回调函数在命令完成后执行

    this.demoTest = function (browser) {

      browser.click("#main ul li a.first", function(response) {
        this.assert.ok(browser === this, "Check if the context is right.");
        this.assert.ok(typeof response == "object", "We got a response object.");
      });

    };

<br />

####clearValue####
清除指定的文本元素的值，使用elementIdValue协议命令。

参数：

<table class="table table-bordered table-striped">
    <thead>
     <tr>
       <th style="width: 100px;">Name</th>
       <th style="width: 100px;">Type</th>
       <th>description</th>
     </tr>
    </thead>
    <tbody>

     <tr>
       <td><code>selector</code></td>
       <td>string</td>
       <td>The CSS/Xpath selector used to locate the element.</td>
     </tr>

     <tr>
       <td><code>callback</code><br><span class="optional">Optional</span></td>
       <td>function</td>
       <td>Optional callback function to be called when the command finishes.</td>
     </tr>

    </tbody>
</table>

例子：

    this.demoTest = function (client) {
      client.clearValue('input[type=text]');
    };



####click####
在指定的元素上模拟一个点击事件，使用elementIdClick协议命令。

参数：

<table class="table table-bordered table-striped">
    <thead>
     <tr>
       <th style="width: 100px;">Name</th>
       <th style="width: 100px;">Type</th>
       <th>description</th>
     </tr>
    </thead>
    <tbody>

     <tr>
       <td><code>selector</code></td>
       <td>string</td>
       <td>The CSS/Xpath selector used to locate the element.</td>
     </tr>

     <tr>
       <td><code>callback</code><br><span class="optional">Optional</span></td>
       <td>function</td>
       <td>Optional callback function to be called when the command finishes.</td>
     </tr>

    </tbody>
</table>

例子：

    this.demoTest = function (client) {
      client.click("#main ul li a.first");
    };



####closeWindow####
关闭当前窗口。

参数：

<table class="table table-bordered table-striped">
    <thead>
     <tr>
       <th style="width: 100px;">Name</th>
       <th style="width: 100px;">Type</th>
       <th>description</th>
     </tr>
    </thead>
    <tbody>

     <tr>
       <td><code>callback</code><br><span class="optional">Optional</span></td>
       <td>function</td>
       <td>Optional callback function to be called when the command finishes.</td>
     </tr>

    </tbody>
</table>

例子：

    this.demoTest = function (client) {
      client.closeWindow();
    };






---